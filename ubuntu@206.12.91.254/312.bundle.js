"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[312],{33312:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(30168);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(67294);\n/* harmony import */ var _auth0_auth0_react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(88100);\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(16550);\n/* harmony import */ var _components_Alerts_AlertContext__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(31582);\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(9669);\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(51117);\n/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(26793);\n\nvar _templateObject;\n\n\n\n\n\n\n\n\nvar Header = styled_components__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .ZP.p(_templateObject || (_templateObject = (0,_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z)(["\\n  text-align: center;\\n  color: white;\\n  margin-top: 20px;\\n  font-size: 3em;\\n"])));\nvar CollabLogin = function CollabLogin(props) {\n  var _useAuth = (0,_auth0_auth0_react__WEBPACK_IMPORTED_MODULE_1__/* .useAuth0 */ .D3)(),\n    loginWithRedirect = _useAuth.loginWithRedirect,\n    user = _useAuth.user;\n  var alertContext = (0,_components_Alerts_AlertContext__WEBPACK_IMPORTED_MODULE_2__/* .useAlertContext */ .oX)();\n  var history = (0,react_router_dom__WEBPACK_IMPORTED_MODULE_6__.useHistory)();\n  var _useTranslation = (0,react_i18next__WEBPACK_IMPORTED_MODULE_7__/* .useTranslation */ .$)(),\n    t = _useTranslation.t;\n  var query = new URLSearchParams((0,react_router_dom__WEBPACK_IMPORTED_MODULE_6__.useLocation)().search);\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {\n    if (query.get("email") || localStorage.inviteEmail) {\n      if (user) {\n        if (user.email !== (query.get("email") || localStorage.inviteEmail)) {\n          alertContext.showAlert(t("alert.useOriginalEmail"), "error");\n          history.push(\'/\');\n        } else {\n          var s = query.get("sim") || localStorage.inviteSim;\n          axios__WEBPACK_IMPORTED_MODULE_3___default().post({"REACT_APP_API_ORIGIN":"http://206.12.91.254:8080","REACT_APP_AUTH0_DOMAIN":"dev-3-81kkgt.us.auth0.com","REACT_APP_AUTH0_CLIENT_ID":"DjTX4pPeCfDPKGNcG8AwMEcJjkTZyYp3","REACT_APP_GRAFANAAUTH_KEY":"eyJrIjoiT1BMTmdaNnh3ejl6Um8xMHgzakhnYzNWYUlzVXR1a20iLCJuIjoiRGVtbyIsImlkIjoxfQ==","REACT_APP_GOOGLEAPI_KEY":"AIzaSyCvq0AcfmcAeJeJ7-IZwi0JGjeTYBhWghU"}.REACT_APP_API_ORIGIN + \'/api/adminaccounts/verifyCollaborator\', {\n            email: user.email,\n            name: user.name,\n            gameinstanceid: s\n          }).then(function (res) {\n            alertContext.showAlert(t("alert.simAccessGranted"), "info");\n            history.push(\'/dashboard\');\n          }).catch(function (error) {\n            alertContext.showAlert(t("alert.inviteInvalid"), "error");\n            history.push(\'/\');\n          });\n        }\n        localStorage.removeItem("inviteEmail");\n        localStorage.removeItem("inviteSim");\n      } else {\n        localStorage.setItem("inviteEmail", query.get("email"));\n        localStorage.setItem("inviteSim", query.get("sim"));\n        loginWithRedirect({\n          redirectUri: window.location.href,\n          prompt: "select_account"\n        });\n      }\n    } else {\n      history.push(\'/\');\n    }\n  }, []);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(Header, null, "Taking you to the login...");\n};\n/* harmony default export */ __webpack_exports__["default"] = (CollabLogin);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LE1BQU07TUFDTDlCLE9BQU8sQ0FBQ1csSUFBSSxDQUFDLEdBQUcsQ0FBQztJQUNuQjtFQUNGLENBQUMsRUFBRSxFQUFFLENBQUM7RUFFTixvQkFDRS9CLGdEQUFBLENBQUNVLE1BQU0sUUFBQyw0QkFBa0MsQ0FBQztBQUUvQyxDQUFDO0FBRUQsK0RBQWVJLFdBQVciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jbGllbnQvLi9zcmMvdmlld3MvQ29sbGFiTG9naW4uanN4P2ZiNmIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcclxuaW1wb3J0IHsgdXNlQXV0aDAgfSBmcm9tIFwiQGF1dGgwL2F1dGgwLXJlYWN0XCI7XHJcbmltcG9ydCB7IHVzZUxvY2F0aW9uIH0gZnJvbSBcInJlYWN0LXJvdXRlci1kb21cIjtcclxuaW1wb3J0IHsgdXNlQWxlcnRDb250ZXh0IH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvQWxlcnRzL0FsZXJ0Q29udGV4dFwiO1xyXG5pbXBvcnQgeyB1c2VIaXN0b3J5IH0gZnJvbSBcInJlYWN0LXJvdXRlci1kb21cIjtcclxuaW1wb3J0IGF4aW9zIGZyb20gXCJheGlvc1wiO1xyXG5pbXBvcnQgc3R5bGVkIGZyb20gXCJzdHlsZWQtY29tcG9uZW50c1wiO1xyXG5pbXBvcnQgeyB1c2VUcmFuc2xhdGlvbiB9IGZyb20gXCJyZWFjdC1pMThuZXh0XCI7XHJcblxyXG5jb25zdCBIZWFkZXIgPSBzdHlsZWQucGBcclxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgY29sb3I6IHdoaXRlO1xyXG4gIG1hcmdpbi10b3A6IDIwcHg7XHJcbiAgZm9udC1zaXplOiAzZW07XHJcbmA7XHJcblxyXG5jb25zdCBDb2xsYWJMb2dpbiA9IChwcm9wcykgPT4ge1xyXG4gIGNvbnN0IHsgbG9naW5XaXRoUmVkaXJlY3QsIHVzZXIgfSA9IHVzZUF1dGgwKCk7XHJcbiAgY29uc3QgYWxlcnRDb250ZXh0ID0gdXNlQWxlcnRDb250ZXh0KCk7XHJcbiAgbGV0IGhpc3RvcnkgPSB1c2VIaXN0b3J5KCk7XHJcbiAgY29uc3QgeyB0IH0gPSB1c2VUcmFuc2xhdGlvbigpO1xyXG5cclxuICBjb25zdCBxdWVyeSA9IChuZXcgVVJMU2VhcmNoUGFyYW1zKHVzZUxvY2F0aW9uKCkuc2VhcmNoKSk7XHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBpZiAocXVlcnkuZ2V0KFwiZW1haWxcIikgfHwgbG9jYWxTdG9yYWdlLmludml0ZUVtYWlsKSB7XHJcbiAgICAgIGlmICh1c2VyKSB7XHJcbiAgICAgICAgaWYgKHVzZXIuZW1haWwgIT09IChxdWVyeS5nZXQoXCJlbWFpbFwiKSB8fCBsb2NhbFN0b3JhZ2UuaW52aXRlRW1haWwpKSB7XHJcbiAgICAgICAgICBhbGVydENvbnRleHQuc2hvd0FsZXJ0KHQoXCJhbGVydC51c2VPcmlnaW5hbEVtYWlsXCIpLCBcImVycm9yXCIpO1xyXG4gICAgICAgICAgaGlzdG9yeS5wdXNoKCcvJyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGNvbnN0IHMgPSBxdWVyeS5nZXQoXCJzaW1cIikgfHwgbG9jYWxTdG9yYWdlLmludml0ZVNpbTtcclxuICAgICAgICAgIGF4aW9zLnBvc3QocHJvY2Vzcy5lbnYuUkVBQ1RfQVBQX0FQSV9PUklHSU4gKyAnL2FwaS9hZG1pbmFjY291bnRzL3ZlcmlmeUNvbGxhYm9yYXRvcicsIHtcclxuICAgICAgICAgICAgZW1haWw6IHVzZXIuZW1haWwsXHJcbiAgICAgICAgICAgIG5hbWU6IHVzZXIubmFtZSxcclxuICAgICAgICAgICAgZ2FtZWluc3RhbmNlaWQ6IHNcclxuICAgICAgICAgIH0pLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICAgICAgICBhbGVydENvbnRleHQuc2hvd0FsZXJ0KHQoXCJhbGVydC5zaW1BY2Nlc3NHcmFudGVkXCIpLCBcImluZm9cIik7XHJcbiAgICAgICAgICAgIGhpc3RvcnkucHVzaCgnL2Rhc2hib2FyZCcpO1xyXG4gICAgICAgICAgfSkuY2F0Y2goKGVycm9yKSA9PiB7XHJcbiAgICAgICAgICAgIGFsZXJ0Q29udGV4dC5zaG93QWxlcnQodChcImFsZXJ0Lmludml0ZUludmFsaWRcIiksIFwiZXJyb3JcIik7XHJcbiAgICAgICAgICAgIGhpc3RvcnkucHVzaCgnLycpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKFwiaW52aXRlRW1haWxcIik7XHJcbiAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oXCJpbnZpdGVTaW1cIik7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJpbnZpdGVFbWFpbFwiLCBxdWVyeS5nZXQoXCJlbWFpbFwiKSk7XHJcbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJpbnZpdGVTaW1cIiwgcXVlcnkuZ2V0KFwic2ltXCIpKTtcclxuICAgICAgICBsb2dpbldpdGhSZWRpcmVjdCh7IHJlZGlyZWN0VXJpOiB3aW5kb3cubG9jYXRpb24uaHJlZiwgcHJvbXB0OiBcInNlbGVjdF9hY2NvdW50XCIgfSk7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGhpc3RvcnkucHVzaCgnLycpO1xyXG4gICAgfVxyXG4gIH0sIFtdKTtcclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDxIZWFkZXI+VGFraW5nIHlvdSB0byB0aGUgbG9naW4uLi48L0hlYWRlcj5cclxuICApO1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBDb2xsYWJMb2dpbjtcclxuIl0sIm5hbWVzIjpbIlJlYWN0IiwidXNlRWZmZWN0IiwidXNlU3RhdGUiLCJ1c2VBdXRoMCIsInVzZUxvY2F0aW9uIiwidXNlQWxlcnRDb250ZXh0IiwidXNlSGlzdG9yeSIsImF4aW9zIiwic3R5bGVkIiwidXNlVHJhbnNsYXRpb24iLCJIZWFkZXIiLCJwIiwiX3RlbXBsYXRlT2JqZWN0IiwiX3RhZ2dlZFRlbXBsYXRlTGl0ZXJhbCIsIkNvbGxhYkxvZ2luIiwicHJvcHMiLCJfdXNlQXV0aCIsImxvZ2luV2l0aFJlZGlyZWN0IiwidXNlciIsImFsZXJ0Q29udGV4dCIsImhpc3RvcnkiLCJfdXNlVHJhbnNsYXRpb24iLCJ0IiwicXVlcnkiLCJVUkxTZWFyY2hQYXJhbXMiLCJzZWFyY2giLCJnZXQiLCJsb2NhbFN0b3JhZ2UiLCJpbnZpdGVFbWFpbCIsImVtYWlsIiwic2hvd0FsZXJ0IiwicHVzaCIsInMiLCJpbnZpdGVTaW0iLCJwb3N0IiwicHJvY2VzcyIsImVudiIsIlJFQUNUX0FQUF9BUElfT1JJR0lOIiwibmFtZSIsImdhbWVpbnN0YW5jZWlkIiwidGhlbiIsInJlcyIsImNhdGNoIiwiZXJyb3IiLCJyZW1vdmVJdGVtIiwic2V0SXRlbSIsInJlZGlyZWN0VXJpIiwid2luZG93IiwibG9jYXRpb24iLCJocmVmIiwicHJvbXB0IiwiY3JlYXRlRWxlbWVudCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///33312\n')}}]);